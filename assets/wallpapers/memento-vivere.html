<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memento Vivere</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lora:ital,wght@0,400;1,400&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            font-family: 'Lora', serif;
            position: relative;
            animation: breathe 20s ease-in-out infinite;
        }

        @keyframes breathe {

            0%,
            100% {
                background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            }

            50% {
                background: linear-gradient(135deg, #0f0f0f 0%, #1f1f33 50%, #1b2643 100%);
            }
        }

        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }

        .corner-decoration {
            position: absolute;
            width: 150px;
            height: 150px;
            opacity: 0.1;
        }

        .corner-decoration.top-left {
            top: 0;
            left: 0;
            border-top: 2px solid #fff;
            border-left: 2px solid #fff;
        }

        .corner-decoration.bottom-right {
            bottom: 0;
            right: 0;
            border-bottom: 2px solid #fff;
            border-right: 2px solid #fff;
        }

        .daily-counter {
            position: absolute;
            top: 60px;
            left: 60px;
            font-family: 'Playfair Display', serif;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.9rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeIn 2s ease forwards 2s;
            z-index: 2;
        }

        .daily-counter .number {
            font-size: 3rem;
            display: block;
            color: rgba(255, 215, 0, 0.6);
            margin-top: 10px;
            font-weight: 700;
        }

        .hourglass {
            position: absolute;
            bottom: 60px;
            right: 60px;
            width: 60px;
            height: 80px;
            opacity: 0.3;
            animation: fadeIn 2s ease forwards 2.5s;
            z-index: 2;
        }

        .hourglass-top,
        .hourglass-bottom {
            position: absolute;
            width: 60px;
            height: 38px;
            border: 3px solid rgba(255, 255, 255, 0.4);
        }

        .hourglass-top {
            top: 0;
            border-radius: 3px 3px 50% 50%;
            border-bottom: none;
        }

        .hourglass-bottom {
            bottom: 0;
            border-radius: 50% 50% 3px 3px;
            border-top: none;
        }

        .sand {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(255, 215, 0, 0.6);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: sandFall 3s ease-in-out infinite;
        }

        @keyframes sandFall {

            0%,
            100% {
                top: 10px;
            }

            50% {
                top: 65px;
            }
        }

        .content {
            position: relative;
            z-index: 2;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px;
            text-align: center;
        }

        .quote-container {
            max-width: 1200px;
            margin-bottom: 80px;
        }

        .quote {
            font-size: clamp(2rem, 4vw, 4.5rem);
            color: #fff;
            line-height: 1.3;
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            letter-spacing: -1px;
            margin-bottom: 40px;
            opacity: 0;
            animation: fadeInScale 2s ease forwards;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.9);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .author {
            font-size: clamp(1.2rem, 2vw, 1.8rem);
            color: rgba(255, 255, 255, 0.6);
            font-style: italic;
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeIn 2s ease forwards 0.5s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .divider {
            width: 100px;
            height: 2px;
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5), transparent);
            margin: 60px auto;
            opacity: 0;
            animation: fadeIn 2s ease forwards 1s;
        }

        .time-section {
            display: flex;
            flex-direction: column;
            gap: 30px;
            align-items: center;
            opacity: 0;
            animation: fadeIn 2s ease forwards 1.5s;
        }

        .current-time {
            font-size: clamp(2.5rem, 5vw, 6rem);
            font-family: 'Playfair Display', serif;
            color: #fff;
            font-weight: 700;
            letter-spacing: 8px;
            text-shadow: 0 0 40px rgba(255, 255, 255, 0.3);
        }

        .current-date {
            font-size: clamp(1rem, 2vw, 1.5rem);
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 4px;
        }

        .life-reminder {
            margin-top: 60px;
            font-size: clamp(0.9rem, 1.5vw, 1.2rem);
            color: rgba(255, 255, 255, 0.5);
            max-width: 700px;
            line-height: 2;
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeIn 2s ease forwards 2s;
        }

        .life-reminder strong {
            color: rgba(255, 215, 0, 0.9);
            font-weight: 600;
        }

        .life-reminder.no-birth {
            color: rgba(255, 255, 255, 0.3);
            font-style: italic;
        }
    </style>
</head>

<body>
    <div class="particles" id="particles"></div>
    <div class="corner-decoration top-left"></div>
    <div class="corner-decoration bottom-right"></div>

    <div class="daily-counter">
        <div>Day of Year</div>
        <div class="number" id="dayOfYear">000</div>
    </div>

    <div class="hourglass">
        <div class="hourglass-top"></div>
        <div class="hourglass-bottom"></div>
        <div class="sand"></div>
    </div>

    <div class="content">
        <div class="quote-container">
            <div class="quote" id="quote">The fear of death follows from the fear of life. A man who lives fully is
                prepared to die at any time.</div>
            <div class="author" id="author">— Mark Twain</div>
        </div>
        <div class="divider"></div>
        <div class="time-section">
            <div class="current-time" id="time">00:00:00</div>
            <div class="current-date" id="date">Loading...</div>
        </div>
        <div class="life-reminder" id="lifeReminder"></div>
    </div>

    <script>
        // ── Quotes ────────────────────────────────────────────────────────────
        const quotes = [
            { text: "The fear of death follows from the fear of life. A man who lives fully is prepared to die at any time.", author: "Mark Twain" },
            { text: "Do not act as if you had ten thousand years to live. Death hangs over you. While you live, while it is in your power, be good.", author: "Marcus Aurelius" },
            { text: "It is not death that a man should fear, but he should fear never beginning to live.", author: "Marcus Aurelius" },
            { text: "The trouble is, you think you have time.", author: "Buddha" },
            { text: "Life is what happens when you're busy making other plans.", author: "John Lennon" },
            { text: "Your time is limited, don't waste it living someone else's life.", author: "Steve Jobs" },
            { text: "The meaning of life is to find your gift. The purpose of life is to give it away.", author: "Pablo Picasso" },
            { text: "In the end, we only regret the chances we didn't take.", author: "Lewis Carroll" },
            { text: "Death is not the greatest loss in life. The greatest loss is what dies inside us while we live.", author: "Norman Cousins" },
            { text: "Twenty years from now you will be more disappointed by the things you didn't do than by the ones you did.", author: "Mark Twain" },
            { text: "Life shrinks or expands in proportion to one's courage.", author: "Anaïs Nin" },
            { text: "We are here to add what we can to life, not to get what we can from it.", author: "William Osler" },
            { text: "The purpose of life is not to be happy. It is to be useful, to be honorable, to be compassionate.", author: "Ralph Waldo Emerson" },
            { text: "You only live once, but if you do it right, once is enough.", author: "Mae West" }
        ];
        let currentQuoteIndex = 0;

        // ── Particles ─────────────────────────────────────────────────────────
        (function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDuration = (Math.random() * 20 + 15) + 's';
                p.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(p);
            }
        })();

        // ── Life Stats (birthdate from localStorage) ──────────────────────────
        function updateLifeStats() {
            const reminder = document.getElementById('lifeReminder');
            const stored = localStorage.getItem('wallpaper_birthdate');
            if (!stored) {
                reminder.className = 'life-reminder no-birth';
                reminder.innerHTML = 'Set <code>wallpaper_birthdate</code> in localStorage (YYYY-MM-DD) to see your personal life stats.';
                return;
            }
            const birth = new Date(stored);
            if (isNaN(birth.getTime())) {
                reminder.className = 'life-reminder no-birth';
                reminder.innerHTML = 'Invalid birthdate in localStorage. Use format YYYY-MM-DD.';
                return;
            }
            const lifeExpectancy = 80;
            const daysLived = Math.floor((Date.now() - birth.getTime()) / (1000 * 60 * 60 * 24));
            const daysLeft = Math.max(0, Math.floor((lifeExpectancy * 365.25) - daysLived));
            reminder.className = 'life-reminder';
            reminder.innerHTML = `You have lived <strong>${daysLived.toLocaleString()} days</strong>. If you live to ${lifeExpectancy}, you have roughly <strong>${daysLeft.toLocaleString()} days left</strong>. This day will never come again.`;
        }

        // ── Clock / Date / Day-of-Year ────────────────────────────────────────
        function updateTime() {
            const now = new Date();
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            const s = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('time').textContent = `${h}:${m}:${s}`;
            document.getElementById('date').textContent = now.toLocaleDateString('en-US', {
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
            });
            const start = new Date(now.getFullYear(), 0, 0);
            const dayOfYear = Math.floor((now - start) / (1000 * 60 * 60 * 24));
            document.getElementById('dayOfYear').textContent = String(dayOfYear).padStart(3, '0');
        }

        // ── Quote Rotation ────────────────────────────────────────────────────
        function changeQuote() {
            const quoteEl = document.getElementById('quote');
            const authorEl = document.getElementById('author');
            quoteEl.style.animation = 'none';
            authorEl.style.animation = 'none';
            setTimeout(() => {
                currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
                quoteEl.textContent = quotes[currentQuoteIndex].text;
                authorEl.textContent = '— ' + quotes[currentQuoteIndex].author;
                quoteEl.style.animation = 'fadeInScale 2s ease forwards';
                authorEl.style.animation = 'fadeIn 2s ease forwards 0.5s';
            }, 500);
        }

        updateTime();
        updateLifeStats();
        setInterval(updateTime, 1000);
        setInterval(changeQuote, 30000);
    </script>
</body>

</html>